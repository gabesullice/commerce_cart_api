
commerce_cart_api.cart_collection:
  path: '/cart'
  defaults:
    _controller: '\Drupal\commerce_cart_api\Controller\CartResourceController::getCarts'
    _entity_type: 'commerce_order'
    _bundle: 'default'
  methods: [GET]
  requirements:
    _access: 'TRUE'
    _format: 'json'
    _entity_type: 'commerce_order'
    # @note JSON API requires a bundle.
    # this is so \Drupal\jsonapi\ResourceType\ResourceTypeRepository::get returns a resource type.
    _bundle: 'default'
  options:
    _auth:
      - cookie
    _is_jsonapi: 1
    # @todo is this needed or autoadded by _is_jsonapi notation
    serialization_class: '\Drupal\jsonapi\Resource\JsonApiDocumentTopLevel'
commerce_cart_api.cart_canonical:
  path: '/cart/{commerce_order}'
  defaults:
    _controller: '\Drupal\commerce_cart_api\Controller\CartResourceController::getCart'
    _entity_type: 'commerce_order'
    _bundle: 'default'
  methods: [GET]
  requirements:
    _access: 'TRUE'
    _format: 'json'
    _entity_type: 'commerce_order'
    # @note JSON API requires a bundle.
    _bundle: 'default'
  options:
    _auth:
      - cookie
    _is_jsonapi: 1
    # @todo is this needed or autoadded by _is_jsonapi notation
    serialization_class: '\Drupal\jsonapi\Resource\JsonApiDocumentTopLevel'
